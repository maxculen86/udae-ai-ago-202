!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).FileUploader={},e.React)}(this,function(e,c){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};window.__extends=function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};var t={dragAndDrop:"Upload files by dragging & dropping,",selectFile:"selecting them",pasteFromClipboard:", or pasting from the clipboard."};function l(e){return e||t}function p(e,t,n,o,r,i,a,f){if(r(),e&&t&&n){var c=new XMLHttpRequest,l={request:c,file:o,percent:0};c.upload.onprogress=function(e){var t=Math.round(100*e.loaded/e.total);a(t),l.percent=t},c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&i(c)},c.open(n,t);var u=new FormData;u.append(e,o),c.send(u),f(l)}}function u(e,n,o,r,i,a,f,c){if(e.dataTransfer){var l=e.dataTransfer.files;if(0<l.length){e.preventDefault(),e.stopPropagation();for(var t=function(e){var t=l.item(e);t&&p(n,o,r,t,function(){i(t)},function(e){a(e)},function(e){f(e)},function(e){c(e)})},u=0;u<l.length;u++)t(u)}}}function d(e,o,r,i,a,f,c,l){if(e.clipboardData){var u=e.clipboardData.items;if(0<u.length){e.preventDefault();for(var t=function(e){var t=u[e];if("file"===t.kind){var n=t.getAsFile();n&&p(o,r,i,n,function(){a(n)},function(e){f(e)},function(e){c(e)},function(e){l(e)})}},n=0;n<u.length;n++)t(n)}}}function s(e,n,o,r,i,a,f,c){var l=e.currentTarget.files;if(l&&(e.preventDefault(),0<l.length))for(var t=function(e){var t=l.item(e);t&&p(n,o,r,t,function(){i(t)},function(e){a(e)},function(e){f(e)},function(e){c(e)})},u=0;u<l.length;u++)t(u)}function m(e,t){for(var n=0;n<e.length;n++)if(e[n].request===t){e.splice(n,1);break}}e.FileUploader=function(t){function n(e){t.fileGot&&t.fileGot(e)}function o(e){t.fileUploaded&&t.fileUploaded(e.response),m(r,e),i(r)}var e=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}(c.useState([]),2),r=e[0],i=e[1],a=l(t.locale),f=r.map(function(e,t){return c.createElement("div",{className:"file-uploader-progress",title:e.file.name,key:t},c.createElement("div",{style:{width:e.percent+"%"}},e.percent,"%"))});return c.createElement("div",{onDrop:function(e){u(e,t.name,t.url,t.method,n,o,function(e){i(r)},function(e){r.push(e)})},onPaste:function(e){d(e,t.name,t.url,t.method,n,o,function(e){i(r)},function(e){r.push(e)})}},f,c.createElement("p",{className:"file-uploader-container"},a.dragAndDrop,c.createElement("span",null,a.selectFile),a.pasteFromClipboard,c.createElement("input",{type:"file",multiple:t.multiple,accept:t.accept,onChange:function(e){s(e,t.name,t.url,t.method,n,o,function(e){i(r)},function(e){r.push(e)})}})))},e.defaultLocale=t,e.getLocale=l,e.onDrop=u,e.onFileUploaded=s,e.onPaste=d,e.removeRequest=m,Object.defineProperty(e,"__esModule",{value:!0})});
